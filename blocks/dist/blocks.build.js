!function(e){function t(l){if(n[l])return n[l].exports;var a=n[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";var l=n(2),a=(n.n(l),n(3)),r=(n.n(a),n(4)),__=wp.i18n.__,o=wp.blocks.registerBlockType,i=wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 32 32"},wp.element.createElement("path",{d:"m9.417 15.181-.397 5.584c.568 0 .814-.244 1.109-.537l2.663-2.545 5.518 4.041c1.012.564 1.725.267 1.998-.931l3.622-16.972.001-.001c.321-1.496-.541-2.081-1.527-1.714l-21.29 8.151c-1.453.564-1.431 1.374-.247 1.741l5.443 1.693 12.643-7.911c.595-.394 1.136-.176.691.218z",fill:"currentColor"}));o("ninjateam/nta-telegram",{title:__("Telegram Button"),icon:i,category:"widgets",keywords:[__("ninjateam"),__("telegram"),__("nta"),__("tele")],edit:r.a,save:function(e){return wp.element.createElement("div",null)},example:{attributes:{isSelectedAccount:"-1",username:"",imageID:0,imageUrl:"",buttonStyle:"round",buttonColor:"#2aa7e8",buttonTitle:"John Doe",buttonInfo:"Need Help? Chat with us",textColor:"#fff",preview:!0}}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=n(5),r=n(6),o=function(){function e(e,t){var n=[],_n=!0,l=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(_n=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);_n=!0);}catch(e){l=!0,a=e}finally{try{!_n&&o.return&&o.return()}finally{if(l)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=wp.components,c=i.PanelBody,m=i.SelectControl,u=i.RadioControl,s=wp.blockEditor,p=s.InspectorControls,g=s.PanelColorSettings,d=wp.element,f=d.useEffect,_=d.useRef,w=d.useState,b=d.Fragment,v=wp.data.withSelect,__=wp.i18n.__,y=window,E=y.njttele,h=wp.components.__experimentalInputControl,C=function(e){var t=e.attributes,n=e.setAttributes,i=(e.className,e.isSelected,e.postList),s=_(null),d=w({buttonName:"",metaInfo:{},metaStyle:{}}),v=o(d,2),y=v[0],C=v[1],x=w(!1),S=o(x,2),j=S[0],k=S[1];f(function(){-1!=t.isSelectedAccount&&(k(!0),jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"njt_tele_get_account",id:t.isSelectedAccount,nonce:E.nonce}}).done(function(e){k(!1),C(Object.assign({},e))}))},[t.isSelectedAccount]),f(function(){s.current&&(s.current.style.height=s.current.scrollHeight+"px")},[s]);var I=[{name:"Coral",slug:"coral",color:"#cd2653"},{name:"Lavender",slug:"lavender",color:"#000000"},{name:"White",slug:"white",color:"#6d6d6d"},{name:"White",slug:"white",color:"#dcd7ca"},{name:"White",slug:"white",color:"#f5efe0"}],N="round"==t.buttonStyle?"tele__r_button":"tele__sq_button",A=t.imageUrl?"tele__btn_w_img":"tele__btn_w_icon",T={backgroundImage:"url("+t.imageUrl+")",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},D=t.imageUrl?wp.element.createElement("div",{className:"tele__cs_img"},wp.element.createElement("div",{className:"tele__cs_img_wrap",style:T})):wp.element.createElement("div",{className:"tele__btn_icon"},wp.element.createElement("img",{alt:"img",src:E.avatarDefaultUrl})),U={color:t.textColor&&"#fff"!=t.textColor&&"#ffffff"!=t.textColor?t.textColor:"#d5f0d9",background:"transparent",border:"none",outline:"none",opacity:t.textColor&&"#fff"!=t.textColor&&"#ffffff"!=t.textColor?1:.8},O=t.buttonTitle?wp.element.createElement("div",{className:"tele__cs_info"},wp.element.createElement("div",{className:"tele__cs_name",style:{color:t.textColor}},wp.element.createElement("input",{style:U,onChange:function(e){return n({buttonTitle:e.target.value})},value:t.buttonTitle}))):null,B=t.buttonTitle?"":"tele__button_text_only",R={background:"transparent",border:"none",color:t.textColor?t.textColor:"#fff",outline:"none",resize:"none",overflow:"hidden",padding:0,boxShadow:"none"},P=wp.element.createElement(p,null,wp.element.createElement(c,{title:__("Select Account","ninjateam-telegram")},wp.element.createElement(m,{label:__("Choose your account from list:","ninjateam-telegram"),value:t.isSelectedAccount,options:function(){var e=[{label:__("Custom Button","ninjateam-telegram"),value:-1}];if(i){var t=i.map(function(e){return{label:e.title.raw,value:e.id}});e=[].concat(l(e),l(t))}return e}(),onChange:function(e){return n({isSelectedAccount:e})}}),"-1"==t.isSelectedAccount?wp.element.createElement(b,null,wp.element.createElement(h,{label:__("Enter your username:","ninjateam-telegram"),value:t.username,onChange:function(e){return n({username:e})}}),wp.element.createElement(h,{label:__("Title:","ninjateam-telegram"),value:t.buttonTitle,onChange:function(e){return n({buttonTitle:e})}}),wp.element.createElement(h,{label:__("Label:","ninjateam-telegram"),value:t.buttonInfo,onChange:function(e){return n({buttonInfo:e})}})):null),-1==t.isSelectedAccount?wp.element.createElement(b,null,wp.element.createElement(c,{initialOpen:!1,title:__("Avatar","ninjateam-telegram")},wp.element.createElement(a.a,{attributes:t,setAttributes:n})),wp.element.createElement(c,{initialOpen:!1,title:__("Button Style","ninjateam-telegram")},wp.element.createElement(u,{label:"Button Shape",selected:t.buttonStyle,options:[{label:__("Round","ninjateam-telegram"),value:"round"},{label:__("Square","ninjateam-telegram"),value:"square"}],onChange:function(e){n({buttonStyle:e})}})),wp.element.createElement(g,{initialOpen:!1,title:__("Button Color","ninjateam-telegram"),colorSettings:[{colors:I,value:t.buttonColor,label:__("Background Color","ninjateam-telegram"),onChange:function(e){return n({buttonColor:e})}},{colors:I,value:t.textColor,label:__("Text Color","ninjateam-telegram"),onChange:function(e){return n({textColor:e})}}]})):null);return wp.element.createElement(b,null,t.preview?wp.element.createElement("div",{style:{padding:"10px"}},wp.element.createElement("img",{src:E.gutenbergPreview,alt:"preview"})):-1!=t.isSelectedAccount?wp.element.createElement(r.a,{attributes:y,loading:j}):wp.element.createElement("div",null,wp.element.createElement("a",{href:"#",className:"tele__button tele__stt_online "+N+" "+A+" "+B,style:{backgroundColor:t.buttonColor,color:t.textColor}},D,wp.element.createElement("div",{className:"tele__btn_txt"},O,wp.element.createElement("div",{className:"tele__btn_title"},wp.element.createElement("textarea",{rows:1,ref:s,style:R,onChange:function(e){e.target.style.height="15px",e.target.style.height=e.target.scrollHeight+"px",n({buttonInfo:e.target.value})},value:t.buttonInfo}))))),P)};t.a=v(function(e,t){return{postList:e("core").getEntityRecords("postType","telegram-accounts",{per_page:-1})}})(C)},function(e,t,n){"use strict";var l=wp.blockEditor,a=l.MediaUpload,r=l.MediaUploadCheck,o=wp.components,i=o.ResponsiveWrapper,c=o.Button,m=o.Spinner,u=wp.data.withSelect,__=wp.i18n.__,s=function(e){var t=e.attributes,n=e.setAttributes,l=e.media,o=function(){n({imageID:"",imageUrl:"",imageAlt:"img"})},u=function(e){n({imageID:e.id,imageUrl:e.url,imageAlt:e.alt_text})};return wp.element.createElement("div",{className:"editor-post-featured-image"},wp.element.createElement(r,null,wp.element.createElement(a,{onSelect:u,value:t.imageID,allowedTypes:["image"],render:function(e){var n=e.open;return wp.element.createElement(c,{style:{position:"relative",height:l?"auto":36},className:0==t.imageID?"wa-blocks editor-post-featured-image__toggle":"wa-blocks editor-post-featured-image__preview",onClick:n},0==t.imageID&&__("Choose an image","ninjateam-telegram"),t.imageID&&!l?wp.element.createElement(m,null):null,void 0!=l&&wp.element.createElement(i,{naturalWidth:l.media_details.width,naturalHeight:l.media_details.height},wp.element.createElement("img",{src:l.source_url,alt:l.alt_text})))}})),0!=t.imageID&&wp.element.createElement(r,null,wp.element.createElement(a,{title:__("Replace image","ninjateam-telegram"),value:t.imageID,onSelect:u,allowedTypes:["image"],render:function(e){var t=e.open;return wp.element.createElement(c,{onClick:t,isSecondary:!0,isLarge:!0},__("Replace image","ninjateam-telegram"))}})),0!=t.imageID&&wp.element.createElement(r,null,wp.element.createElement(c,{onClick:o,isLink:!0,isDestructive:!0},__("Remove image","ninjateam-telegram"))))};t.a=u(function(e,t){return{media:e("core").getMedia(t.attributes.imageID)}})(s)},function(e,t,n){"use strict";var l=wp.components.Spinner,__=wp.i18n.__,a=function(e){var t=e.attributes,n=e.loading,a="round"==t.metaStyle.type?"tele__r_button":"tele__sq_button",r=t.imageUrl?"tele__btn_w_img":"tele__btn_w_icon",o={backgroundImage:"url("+t.imageUrl+")",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},i=t.imageUrl?wp.element.createElement("div",{className:"tele__cs_img"},wp.element.createElement("div",{className:"tele__cs_img_wrap",style:o})):wp.element.createElement("div",{className:"tele__btn_icon"},wp.element.createElement("img",{alt:"img",src:njttele.avatarDefaultUrl})),c={color:"#fff"==t.metaStyle.textColor||"#ffffff"==t.metaStyle.textColor?"#98d5f5":t.metaStyle.textColor,opacity:"#fff"==t.metaStyle.textColor||"#ffffff"==t.metaStyle.textColor?1:.8},m=t.metaInfo.title?wp.element.createElement("div",{className:"tele__cs_info"},wp.element.createElement("div",{className:"tele__cs_name",style:c},t.metaInfo.title),wp.element.createElement("div",{className:"tele__cs_status"},__("Online","ninjateam-telegram"))):null;return n?wp.element.createElement("div",{className:"components-disabled"},wp.element.createElement("div",{className:"components-placeholder is-large"},wp.element.createElement(l,null))):wp.element.createElement("div",{className:"tele__button "+a+" tele__stt_online "+r,style:{backgroundColor:t.metaStyle.backgroundColor}},i,wp.element.createElement("div",{className:"tele__btn_txt"},m,wp.element.createElement("div",{className:"tele__btn_title",style:{color:t.metaStyle.textColor}},t.metaStyle.label),null))};t.a=a}]);